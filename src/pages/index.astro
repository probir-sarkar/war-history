---
import Layout from "../layouts/Layout.astro";

import { processYears } from "../utils/functions.js";
// import Card from '../components/Card.astro';
interface GroupedYears {
  [key: string]: number[];
}
const groupedYears: GroupedYears = processYears() as GroupedYears;
---

<Layout title="Welcome to Astro.">
  <main>
    <h1 class="text-2xl font-medium pb-4 mb-10 border-b">
      War of the Worlds: A Timeline of the World's Most Significant Conflicts
    </h1>
    <div class="space-y-4">
    {
      Object.keys(groupedYears)
        .sort((a, b) => Number(b.split("-")[0]) - Number(a.split("-")[0]))
        .map((century, index) => (
          <div class="border-b">
            <h2>{century}</h2>
            <ul class="flex gap-1 flex-wrap">
              {groupedYears[century].map((year, index) => (
          <li class="p-1">
            <a class="text-blue-500" href={`/${year}`}>
              {Math.sign(year) === -1 ? Math.abs(year) + " BC" : year}
            </a>
          </li>
              ))}
            </ul>
          </div>
        ))
        
    }
    </div>
  </main>
</Layout>
